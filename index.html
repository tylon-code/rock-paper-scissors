<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
        <title>Rock Paper Scissors</title>
    </head>

    <body>
        <div class="header">
            <h1>Welcome to an epic game of<br>Rock Paper Scissors!</h1>
        </div>
        <div class="buttons">
            <button id="play">Play Game!</button>
            <div class="rpsButtons">
                <button id="rock" ><img src="./images/rock.png" alt="An image on a hand making a rock symbol"></button>
                <button id="paper"><img src="./images/paper.png" alt="An image of a cartoon paper airplane"></button>
                <button id="scissors"><img src="./images/scissors.png" alt="An image of cartoon scissors"></button>
            </div>
        </div>
<br>
        <div class="score">
            <div>
                <h3>Score</h3>
                <p id="score"></p>
                <p id="msg"></p>
                <p id="outcome"></p>
            </div>
            
        </div>

        <script>
            let scoreBoard=document.querySelector('#score')
            let msg=document.querySelector('#msg')
            let msgOutcome=document.querySelector('#outcome')
            const playButton=document.querySelector('#play')
            playButton.addEventListener('click',game)

    // Start a game
        function game() {
           
            let score= `Player score: 0    Computer score: 0    Draws: 0`
            scoreBoard.textContent=`${score}`
            
            let result='Let\'s play!'
            msg.textContent=`${result}`
            let outcome=''
            msgOutcome.textContent=`${outcome}`

            let wins = 0
            let loss = 0
            let draw = 0

        // Determine computer's selection
            function computerPlay() {
                    // Create variable for array of computer choices
                    let compChoices = [
                        'rock',
                        'paper',
                        'scissors'];              
                    // Receive randomized computer choice from array
                    return compChoices[Math.floor(Math.random()*compChoices.length)]
                }
                // Variable for computer's selection
                let computerSelection = computerPlay()
                
        // Determine player's selection
            let playerSelection = ''
            const rockSelect = document.querySelector('#rock')
                rockSelect.addEventListener('click',() => {
                    playerSelection='rock'; 
                    clickFunc();
                })
                
                const paperSelect = document.querySelector('#paper')
                paperSelect.addEventListener('click',() => {
                    playerSelection='paper'; 
                    clickFunc();
                })
                
                const scissorsSelect = document.querySelector('#scissors')
                scissorsSelect.addEventListener('click',() => {
                    playerSelection='scissors'; 
                    clickFunc();
                })           

            // Actions to be run when the RPS buttons are clicked
                function clickFunc() {
                    computerSelection = computerPlay(); 
                    playRound(playerSelection, computerSelection);
                    msg.textContent=`${result}`;
                    scoreBoard.textContent=`${score}`;
                    update();
                    msgOutcome.textContent=`${outcome}`
                }
            // Play a round
                function playRound(playerSelection, computerSelection) {                   
                    // if statements to determine winner, track score, & output message to communicate results
                    if(playerSelection==='rock') {
                        if(computerSelection==='rock') {result= ('You both selected rock, it\'s a tie!'); 
                            draw= ++draw;
                            score= (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`); 
                            
                        }
                        else if(computerSelection==='paper') {result= ('Paper beats rock, computer wins!');
                            loss= ++loss;
                            score = (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`); 
                            
                        }
                        else if(computerSelection==='scissors') {result = ('Rock beats scissors, you win!');
                            wins= ++wins;
                            score = (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`); 
                          
                        }
                    }
                    else if(playerSelection==='paper') {
                        if(computerSelection==='paper') {result= ('You both selected paper, it\'s a tie!');
                            draw= ++draw;
                            score=(`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`);
                        }
                        else if(computerSelection==='rock') {result= ('Paper beats rock, you win!');
                            wins= ++wins;
                            score= (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`);
                        }
                        else if(computerSelection==='scissors') {result= ('Scissors beats paper, computer wins!');
                            loss= ++loss;
                            score= (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`);
                        }
                    }
                    else if(playerSelection==='scissors') {
                        if(computerSelection==='scissors') {result= ('You both selected scissors, it\'s a tie!');
                            draw= ++draw;
                            score= (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`);
                        }
                        else if(computerSelection==='paper') {result= ('Scissors beats paper, you win!');
                            wins= ++wins;
                            score= (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`);
                        }
                        else if(computerSelection==='rock') {result= ('Rock beats scissors, computer wins!');
                            loss= ++loss;
                            score= (`Player score: ${wins}    Computer score: ${loss}    Draws: ${draw}`);
                        }
                    }
                }

            // Function to limit the game to first to 5 wins and output an outcome message
                function update() {
                    if(wins===5||loss===5){
                        if(wins>loss) {outcome = `YOU WON!\nThe final score is Player: ${wins}   Computer: ${loss}`;wins=0;loss=0;draw=0}
                        else if(wins<loss) {outcome = `YOU LOST!\nThe final score is Player: ${wins}   Computer: ${loss}`;wins=0;loss=0;draw=0}
                        else {outcome=`IT'S A DRAW!\nThe final score is Player: ${wins}   Computer: ${loss}`;wins=0;loss=0;draw=0}
                    }
                    else {outcome=""}
                }
            }
        </script>
    </body>

</html>